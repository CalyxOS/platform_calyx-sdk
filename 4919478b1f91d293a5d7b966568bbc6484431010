{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "a8ba507a_6e6003dc",
        "filename": "/COMMIT_MSG",
        "patchSetId": 5
      },
      "lineNbr": 10,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2023-07-06T11:39:17Z",
      "side": 1,
      "message": "Nit: It\u0027d be better to add the methods to the bottom, and also in a separate commit. That way we can easily merge that right away, and pick that upstream. etc.",
      "revId": "4919478b1f91d293a5d7b966568bbc6484431010",
      "serverId": "35266860-6252-469c-a67d-185064479fc0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "4cd3936e_8cfa595a",
        "filename": "/COMMIT_MSG",
        "patchSetId": 5
      },
      "lineNbr": 10,
      "author": {
        "id": 1000062
      },
      "writtenOn": "2023-07-06T13:01:43Z",
      "side": 1,
      "message": "Done: https://review.calyxos.org/c/CalyxOS/platform_calyx-sdk/+/18241",
      "parentUuid": "a8ba507a_6e6003dc",
      "revId": "4919478b1f91d293a5d7b966568bbc6484431010",
      "serverId": "35266860-6252-469c-a67d-185064479fc0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "6d84f1e8_635ca2e0",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 5
      },
      "lineNbr": 0,
      "author": {
        "id": 1000062
      },
      "writtenOn": "2023-07-05T23:46:09Z",
      "side": 1,
      "message": "Would appreciate if someone else could test.\n\nSome useful commands:\n```\n# see current db version\nadb wait-for-device root \u0026\u0026 adb wait-for-device shell \"sqlite3 /data/user_de/0/org.lineageos.lineagesettings/databases/calyxsettings.db \u0027pragma user_version\u0027\"\n\n# set db version to 8\nadb wait-for-device root \u0026\u0026 adb wait-for-device shell \"sqlite3 /data/user_de/0/org.lineageos.lineagesettings/databases/calyxsettings.db \u0027pragma user_version\u003d8\u0027\"\n\n# see current lineage secure settings; network_traffic_position should get set to 0 if network_traffic_mode is 1.\nadb shell settings --lineage list secure\n```",
      "revId": "4919478b1f91d293a5d7b966568bbc6484431010",
      "serverId": "35266860-6252-469c-a67d-185064479fc0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e33bb943_1293d7c6",
        "filename": "packages/LineageSettingsProvider/src/org/lineageos/lineagesettings/LineageDatabaseHelper.java",
        "patchSetId": 5
      },
      "lineNbr": 220,
      "author": {
        "id": 1000062
      },
      "writtenOn": "2023-07-06T12:07:15Z",
      "side": 1,
      "message": "This only adds a setting if it does not already exist. Makes sense if you look closely at the SQL statement, but is otherwise not expected. This helper method\u0027s name and comment should reflect its actual behavior, or there should be an argument that changes the behavior.",
      "revId": "4919478b1f91d293a5d7b966568bbc6484431010",
      "serverId": "35266860-6252-469c-a67d-185064479fc0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "b2f5a3e3_c54fba19",
        "filename": "packages/LineageSettingsProvider/src/org/lineageos/lineagesettings/LineageDatabaseHelper.java",
        "patchSetId": 5
      },
      "lineNbr": 220,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2023-07-06T12:11:28Z",
      "side": 1,
      "message": "Ah right this isn\u0027t putInt. Then it should be safe to just add it as version 9.\n\nIt could just be a separate helper later if we want to override a setting.",
      "parentUuid": "e33bb943_1293d7c6",
      "revId": "4919478b1f91d293a5d7b966568bbc6484431010",
      "serverId": "35266860-6252-469c-a67d-185064479fc0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "973e9409_31530230",
        "filename": "packages/LineageSettingsProvider/src/org/lineageos/lineagesettings/LineageDatabaseHelper.java",
        "patchSetId": 5
      },
      "lineNbr": 220,
      "author": {
        "id": 1000062
      },
      "writtenOn": "2023-07-06T12:19:30Z",
      "side": 1,
      "message": "One possible remaining reason to skip doing this, that I can think of, is for users who are fine with it being in its new position for them (center or whatever) and haven\u0027t tried to change it. As far as I know, those users will have the position setting unset, so this would suddenly move it back to the left.\n\nDoesn\u0027t really matter to me whether we do this particular migration or not, at this point.",
      "parentUuid": "b2f5a3e3_c54fba19",
      "revId": "4919478b1f91d293a5d7b966568bbc6484431010",
      "serverId": "35266860-6252-469c-a67d-185064479fc0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e3d5c826_1e245269",
        "filename": "packages/LineageSettingsProvider/src/org/lineageos/lineagesettings/LineageDatabaseHelper.java",
        "patchSetId": 5
      },
      "lineNbr": 378,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2023-07-06T11:39:17Z",
      "side": 1,
      "message": "An option to avoid that, would be to add below:\nInteger newSetting \u003d readIntegerSetting(db, LineageTableNames.TABLE_SECURE,\n                            LineageSettings.Secure.NETWORK_TRAFFIC_POSITION, -1 /* invalid */);\noldSetting as normal\n\nif (newSetting.equals(-1) \u0026\u0026 oldSetting.equals(0))\n    rest of the code",
      "revId": "4919478b1f91d293a5d7b966568bbc6484431010",
      "serverId": "35266860-6252-469c-a67d-185064479fc0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "74931846_b77dac08",
        "filename": "packages/LineageSettingsProvider/src/org/lineageos/lineagesettings/LineageDatabaseHelper.java",
        "patchSetId": 5
      },
      "lineNbr": 378,
      "author": {
        "id": 1000062
      },
      "writtenOn": "2023-07-06T12:07:15Z",
      "side": 1,
      "message": "Ack, see my other comment; there is nothing to avoid at the moment",
      "parentUuid": "e3d5c826_1e245269",
      "revId": "4919478b1f91d293a5d7b966568bbc6484431010",
      "serverId": "35266860-6252-469c-a67d-185064479fc0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f51aafc1_7737a7cb",
        "filename": "packages/LineageSettingsProvider/src/org/lineageos/lineagesettings/LineageDatabaseHelper.java",
        "patchSetId": 5
      },
      "lineNbr": 384,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2023-07-06T11:35:43Z",
      "side": 1,
      "message": "The issue now is for anyone whom the migration ran successfully, or who has this set will have it reset, which is not good.",
      "revId": "4919478b1f91d293a5d7b966568bbc6484431010",
      "serverId": "35266860-6252-469c-a67d-185064479fc0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "abf3519a_6f975f55",
        "filename": "packages/LineageSettingsProvider/src/org/lineageos/lineagesettings/LineageDatabaseHelper.java",
        "patchSetId": 5
      },
      "lineNbr": 384,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2023-07-06T11:39:17Z",
      "side": 1,
      "message": "Or, we revert the removal and fix it before shipping 4.11.0\n\nOr, we just don\u0027t bother with the migration anymore.",
      "parentUuid": "f51aafc1_7737a7cb",
      "revId": "4919478b1f91d293a5d7b966568bbc6484431010",
      "serverId": "35266860-6252-469c-a67d-185064479fc0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f377f531_1b635043",
        "filename": "packages/LineageSettingsProvider/src/org/lineageos/lineagesettings/LineageDatabaseHelper.java",
        "patchSetId": 5
      },
      "lineNbr": 384,
      "author": {
        "id": 1000062
      },
      "writtenOn": "2023-07-06T12:07:15Z",
      "side": 1,
      "message": "Maybe we shouldn\u0027t bother it, I\u0027m not sure",
      "parentUuid": "abf3519a_6f975f55",
      "revId": "4919478b1f91d293a5d7b966568bbc6484431010",
      "serverId": "35266860-6252-469c-a67d-185064479fc0"
    }
  ]
}